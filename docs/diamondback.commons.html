<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>diamondback.commons package &mdash; diamondback  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> diamondback
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">diamondback.commons package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-diamondback.commons.Log">diamondback.commons.Log module</a></li>
<li><a class="reference internal" href="#module-diamondback.commons.RestClient">diamondback.commons.RestClient module</a></li>
<li><a class="reference internal" href="#module-diamondback.commons.Serial">diamondback.commons.Serial module</a></li>
<li><a class="reference internal" href="#module-diamondback.commons">Module contents</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">diamondback</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>diamondback.commons package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/diamondback.commons.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="diamondback-commons-package">
<h1>diamondback.commons package<a class="headerlink" href="#diamondback-commons-package" title="Permalink to this headline"></a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-diamondback.commons.Log">
<span id="diamondback-commons-log-module"></span><h2>diamondback.commons.Log module<a class="headerlink" href="#module-diamondback.commons.Log" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A log instance formats and writes log entries with a specified level
and stream using the loguru package. Log entries contain an ISO-8601
datetime and level.  Dynamic stream redirection and level specification
are supported.</p>
<p>Log uses lazy initialization to coexist with loguru, and removes or
creates loguru handlers only on explicit stream assignment or write.
In lazy initialization an existing default loguru handler, with an
identity equal to 0, and a stream assignment of sys.stdout is removed,
and a new loguru handler with a stream assignment of sys.stdout and a
level of ‘INFO’ is created.</p>
<p>In stream assignments subsequent to initialization, only loguru
handlers previously created by Log will be removed, as the Log design
pattern does not define multicast.  The ability to create and modify
externally defined loguru handlers, multicast, and utilize any native
loguru functionality is supported.</p>
<p>Levels defined by loguru are supported, including custom definitions,
which may have an associated numerical value greater than or equal to
zero.  The level may be dynamically modified without creating,
deleting, or modifying a loguru handler.</p>
<p>Singleton.</p>
<p>Thread safe.</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">Log</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">try</span> <span class="p">:</span>
    <span class="c1"># Set Log level to &#39;INFO&#39;, the default level.</span>

    <span class="n">Log</span><span class="o">.</span><span class="n">level</span><span class="p">(</span> <span class="s1">&#39;INFO&#39;</span> <span class="p">)</span>
    <span class="n">Log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span> <span class="s1">&#39;Test Log write.&#39;</span> <span class="p">)</span>

    <span class="c1"># Set Log stream to sys.stdout.</span>

    <span class="n">Log</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="p">)</span>
    <span class="n">Log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Valid = </span><span class="si">{</span><span class="kc">True</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>

    <span class="c1"># Set Log stream to a memory stream.</span>

    <span class="n">stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span> <span class="p">)</span>
    <span class="n">Log</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span> <span class="n">stream</span> <span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
    <span class="n">Log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;X = </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>

    <span class="c1"># Read and reset memory stream.</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">getvalue</span><span class="p">(</span> <span class="p">)</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span> <span class="mi">0</span> <span class="p">),</span> <span class="n">stream</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span> <span class="mi">0</span> <span class="p">)</span>

    <span class="c1"># Set Log stream to a file.</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span> <span class="s1">&#39;log-2112.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span> <span class="p">)</span> <span class="k">as</span> <span class="n">fout</span> <span class="p">:</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span> <span class="n">fout</span> <span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
        <span class="n">Log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s1">&#39;WARNING&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;X = </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">&#39;</span> <span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span> <span class="p">:</span>
    <span class="n">Log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">,</span> <span class="n">ex</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, Analytics &amp; AI, 2018-03-22.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.commons.Log.Log">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.commons.Log.</span></span><span class="sig-name descname"><span class="pre">Log</span></span><a class="reference internal" href="_modules/diamondback/commons/Log.html#Log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Log.Log" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Log.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.commons.Log.Log.level">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/diamondback/commons/Log.html#Log.level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Log.Log.level" title="Permalink to this definition"></a></dt>
<dd><p>Level.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>level : str - in ( ‘CRITICAL’, ‘ERROR’, ‘WARNING’, ‘SUCCESS’, ‘INFO’, ‘DEBUG’, ‘TRACE’, … &lt; custom &gt; ).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.commons.Log.Log.stream">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/diamondback/commons/Log.html#Log.stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Log.Log.stream" title="Permalink to this definition"></a></dt>
<dd><p>Stream.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>stream : Any, hasattr( ‘write’ ) - in ( sys.stderr, sys.stdout, open( &lt; path &gt;, ‘w’ or ‘a’ ) ).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.commons.Log.Log.write">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Exception</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/diamondback/commons/Log.html#Log.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Log.Log.write" title="Permalink to this definition"></a></dt>
<dd><p>Formats and writes log entries using the loguru package with a
specified level and stream.  Log entries contain an ISO-8601
datetime and level.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>level : str - in ( ‘CRITICAL’, ‘ERROR’, ‘WARNING’, ‘SUCCESS’, ‘INFO’, ‘DEBUG’, ‘TRACE’, … &lt; custom &gt; ).
entry : Union[ str, Exception ].</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-diamondback.commons.RestClient">
<span id="diamondback-commons-restclient-module"></span><h2>diamondback.commons.RestClient module<a class="headerlink" href="#module-diamondback.commons.RestClient" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>REST client instances define a client for simple REST service requests
using the requests package.  An API and an elective dictionary of parameter
strings are encoded to build a URL, elective binary or JSON data are
defined in the body of a request, and a requests response containing JSON,
text, or binary data is returned.</p>
<p>Proxy, timeout, and URL definition are supported.</p>
<p>Live makes a head request to a URL and detects a live service.</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">RestClient</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="k">class</span> <span class="nc">TestClient</span><span class="p">(</span> <span class="n">RestClient</span> <span class="p">)</span> <span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span> <span class="bp">self</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="p">:</span>
        <span class="nb">super</span><span class="p">(</span> <span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span> <span class="n">http</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">https</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span> <span class="bp">self</span><span class="p">,</span> <span class="n">json</span> <span class="p">:</span> <span class="n">Dict</span><span class="p">[</span> <span class="nb">str</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span> <span class="p">]</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span> <span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="s1">&#39;test/add&#39;</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">json</span> <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">(</span> <span class="p">)</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">TestClient</span><span class="p">(</span> <span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://127.0.0.1:8080&#39;</span>
<span class="n">client</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="p">(</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">60.0</span> <span class="p">)</span>  <span class="c1"># connect, read</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add</span><span class="p">(</span> <span class="nb">dict</span><span class="p">(</span> <span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">3</span> <span class="p">),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, Analytics &amp; AI, 2020-10-22.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.commons.RestClient.RestClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.commons.RestClient.</span></span><span class="sig-name descname"><span class="pre">RestClient</span></span><a class="reference internal" href="_modules/diamondback/commons/RestClient.html#RestClient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.RestClient.RestClient" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>REST client.</p>
<p>Initialize.</p>
<dl class="py property">
<dt class="sig sig-object py" id="diamondback.commons.RestClient.RestClient.live">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">live</span></span><a class="headerlink" href="#diamondback.commons.RestClient.RestClient.live" title="Permalink to this definition"></a></dt>
<dd><p>bool.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>live</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.commons.RestClient.RestClient.proxy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">proxy</span></span><a class="headerlink" href="#diamondback.commons.RestClient.RestClient.proxy" title="Permalink to this definition"></a></dt>
<dd><p>Dict[ str, str ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>proxy</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.commons.RestClient.RestClient.timeout">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">timeout</span></span><a class="headerlink" href="#diamondback.commons.RestClient.RestClient.timeout" title="Permalink to this definition"></a></dt>
<dd><p>Any.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>timeout</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.commons.RestClient.RestClient.url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><a class="headerlink" href="#diamondback.commons.RestClient.RestClient.url" title="Permalink to this definition"></a></dt>
<dd><p>str.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>url</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.commons.RestClient.RestClient.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">requests.models.Response</span></span></span><a class="reference internal" href="_modules/diamondback/commons/RestClient.html#RestClient.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.RestClient.RestClient.request" title="Permalink to this definition"></a></dt>
<dd><p>Request client for simple REST service requests. An API and an
elective dictionary of parameter strings are encoded to build a
URL, elective binary or JSON data are defined in the body of a
request, and a requests response containing JSON, text, or binary
data is returned.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>method : str - in ( ‘delete’, ‘get’, ‘head’, ‘options’, ‘patch’, ‘post’, ‘put’ ).
api : str - relative to the URL.
item : Dict[ str, str ].
data : Any.
json : Any.</p>
</dd>
<dt>Returns :</dt><dd><p>value : requests.Response.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-diamondback.commons.Serial">
<span id="diamondback-commons-serial-module"></span><h2>diamondback.commons.Serial module<a class="headerlink" href="#module-diamondback.commons.Serial" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A serial instance encodes and decodes an instance or collection in
BSON or JSON, and generates SHA3-256 codes, using the jsonpickle
package.</p>
<p>BSON, Base-85 encoded gzip JSON, embeds a datetime context, and code
will not be consistent or useful for validation.</p>
<p>An instance may be an object or a collection, referenced by abstract or
concrete types, and the instance will be correctly encoded and decoded,
without custom encoding definitions.  BSON binary format is selected by
electing to compress.  Encoding may be specified if an alternative to
UTF-8 is required.</p>
<p>Comments may be filtered from JSON by electing to clean.  Python style
docstring and line comments are supported, though line comments must be
terminated by a new line.</p>
<p>Singleton.</p>
<p>Thread safe.</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">Serial</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">pandas</span>

<span class="c1"># Encode and decode a dictionary instance in JSON.</span>

<span class="n">x</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span> <span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="n">count</span> <span class="p">),</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="n">count</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">Serial</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span> <span class="n">Serial</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span> <span class="p">)</span>

<span class="c1"># Encode and decode a dictionary instance in BSON.</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">Serial</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">compress</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">Serial</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span> <span class="n">y</span><span class="p">,</span> <span class="n">compress</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>

<span class="c1"># Encode and decode a pandas data frame in BSON.</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="nb">dict</span><span class="p">(</span> <span class="n">fruit</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;kiwi&#39;</span> <span class="p">],</span> <span class="n">cost</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.30</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">Serial</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span> <span class="n">model</span> <span class="p">)</span>

<span class="c1"># Generate SHA3-256 code for an encoded model.</span>

<span class="n">code</span> <span class="o">=</span> <span class="n">Serial</span><span class="o">.</span><span class="n">code</span><span class="p">(</span> <span class="n">y</span> <span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">Serial</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span> <span class="n">y</span> <span class="p">)</span>

<span class="c1"># Decode a dictionary instance from JSON.</span>

<span class="n">z</span> <span class="o">=</span> <span class="n">Serial</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span> <span class="s1">&#39;{ &quot;a&quot; : 1.0, &quot;b&quot; : 2.0, &quot;c&quot; : 3.14159 }&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, Analytics &amp; AI, 2018-07-13.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.commons.Serial.Serial">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.commons.Serial.</span></span><span class="sig-name descname"><span class="pre">Serial</span></span><a class="reference internal" href="_modules/diamondback/commons/Serial.html#Serial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Serial.Serial" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Serial.</p>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.commons.Serial.Serial.code">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'utf_8'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/diamondback/commons/Serial.html#Serial.code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Serial.Serial.code" title="Permalink to this definition"></a></dt>
<dd><p>Code generation.  SHA3-256 hash.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>state : str.
encoding : str.</p>
</dd>
<dt>Returns :</dt><dd><p>code : str.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.commons.Serial.Serial.decode">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'utf_8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/diamondback/commons/Serial.html#Serial.decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Serial.Serial.decode" title="Permalink to this definition"></a></dt>
<dd><p>Decodes an instance or collection from a BSON or JSON state.
Encoding may be specified if an alternative to UTF-8 is required.
Python style docstring and line comments may be cleaned, though
line comments must be terminated by a new line.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>state : str.
compress : bool.
encoding : str.
clean : bool - clean comments.</p>
</dd>
<dt>Returns :</dt><dd><p>instance : Any.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.commons.Serial.Serial.encode">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'utf_8'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/diamondback/commons/Serial.html#Serial.encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.commons.Serial.Serial.encode" title="Permalink to this definition"></a></dt>
<dd><p>Encodes BSON or JSON.  Encoding may be specified if an alternative
to UTF-8 is required.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>instance : Any.
compress : bool.
encoding : str.</p>
</dd>
<dt>Returns :</dt><dd><p>state : str.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-diamondback.commons">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-diamondback.commons" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>Initialize.</p>
</dd>
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, Analytics &amp; AI, 2018-03-22.</p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright © 2019 - 2022 Schneider Electric Industries SAS. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>