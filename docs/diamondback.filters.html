<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>diamondback.filters package &mdash; Diamondback DSP</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> diamondback
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">diamondback.filters package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.ComplexBandPassFilter">diamondback.filters.ComplexBandPassFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.ComplexExponentialFilter">diamondback.filters.ComplexExponentialFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.ComplexFrequencyFilter">diamondback.filters.ComplexFrequencyFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.DerivativeFilter">diamondback.filters.DerivativeFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.FirFilter">diamondback.filters.FirFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.GoertzelFilter">diamondback.filters.GoertzelFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.IirFilter">diamondback.filters.IirFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.IntegralFilter">diamondback.filters.IntegralFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.PidFilter">diamondback.filters.PidFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.PolynomialRateFilter">diamondback.filters.PolynomialRateFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.PolyphaseRateFilter">diamondback.filters.PolyphaseRateFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.RankFilter">diamondback.filters.RankFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters.WindowFilter">diamondback.filters.WindowFilter module</a></li>
<li><a class="reference internal" href="#module-diamondback.filters">Module contents</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">diamondback</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>diamondback.filters package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/diamondback.filters.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="diamondback-filters-package">
<h1>diamondback.filters package<a class="headerlink" href="#diamondback-filters-package" title="Permalink to this headline"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-diamondback.filters.ComplexBandPassFilter">
<span id="diamondback-filters-complexbandpassfilter-module"></span><h2>diamondback.filters.ComplexBandPassFilter module<a class="headerlink" href="#module-diamondback.filters.ComplexBandPassFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A complex band pass filter produces a complex exponential incident
signal at a specified normalized frequency and adapts a forward complex
coefficient to produce a reference signal, which estimates a component
of interest in a primary signal.  A normalized frequency and rate of
adaptation are specified.</p>
<div class="math notranslate nohighlight">
\[x_{n} = e^{\ j\ \pi\ \phi_{n}}\]</div>
<div class="math notranslate nohighlight">
\[\phi_{n+1} = \phi_{n} + f_{n}\]</div>
<div class="math notranslate nohighlight">
\[y_{n} = b_{n} x_{n}\]</div>
<div class="math notranslate nohighlight">
\[e_{n} = d_{n} - y_{n}\]</div>
<div class="math notranslate nohighlight">
\[b_{n+1} = b_{n} + \mu e_{n} x_{n}^{*}\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexBandPassFilter</span><span class="p">,</span> <span class="n">ComplexExponentialFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">frequency</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="o">-</span><span class="mf">1.0e-4</span><span class="p">,</span> <span class="mf">1.0e-4</span><span class="p">,</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">+</span> <span class="n">frequency</span>

<span class="c1"># Create a primary signal.</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="n">phase</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">-</span> <span class="mf">1.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">ComplexBandPassFilter</span><span class="p">(</span> <span class="n">frequency</span> <span class="o">=</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">rate</span> <span class="o">=</span> <span class="mf">5.0e-2</span> <span class="p">)</span>

<span class="c1"># Filter a primary signal.</span>

<span class="n">obj</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span> <span class="n">d</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-01-31.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.ComplexBandPassFilter.</span></span><span class="sig-name descname"><span class="pre">ComplexBandPassFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/ComplexBandPassFilter.html#ComplexBandPassFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.FirFilter.FirFilter" title="diamondback.filters.FirFilter.FirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.FirFilter.FirFilter</span></code></a></p>
<p>Complex band pass filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>frequency : float - relative to Nyquist in [ -1.0, 1.0 ).
rate : float - in [ 0.0, 1.0 ].</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/ComplexBandPassFilter.html#ComplexBandPassFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters a primary signal and produces a reference signal.</p>
<p>Signals are Hilbert transformed to complex as necessary.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>d : Union[ List, numpy.ndarray ] - primary signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.
e : numpy.ndarray - error signal.
b : numpy.ndarray - forward coefficient.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter.frequency">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frequency</span></span><a class="headerlink" href="#diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter.frequency" title="Permalink to this definition"></a></dt>
<dd><p>float - relative to Nyquist in [ -1.0, 1.0 ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>frequency</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter.rate">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rate</span></span><a class="headerlink" href="#diamondback.filters.ComplexBandPassFilter.ComplexBandPassFilter.rate" title="Permalink to this definition"></a></dt>
<dd><p>float - in [ 0.0, 1.0 ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>rate</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.ComplexExponentialFilter">
<span id="diamondback-filters-complexexponentialfilter-module"></span><h2>diamondback.filters.ComplexExponentialFilter module<a class="headerlink" href="#module-diamondback.filters.ComplexExponentialFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A complex exponential filter produces a complex exponential reference
signal from an incident signal equal to a specified normalized frequency.
A normalized phase is specified.</p>
<div class="math notranslate nohighlight">
\[x_{n} = f_{n}\]</div>
<div class="math notranslate nohighlight">
\[\phi_{n} = \phi_{n-1} + x_{n}\]</div>
<div class="math notranslate nohighlight">
\[y_{n} = e^{\ j\ \pi\ \phi_{n}}\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="n">phase</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="o">-</span><span class="mf">1.0e-4</span><span class="p">,</span> <span class="mf">1.0e-4</span><span class="p">,</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-01-31.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.ComplexExponentialFilter.ComplexExponentialFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.ComplexExponentialFilter.</span></span><span class="sig-name descname"><span class="pre">ComplexExponentialFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phase</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/ComplexExponentialFilter.html#ComplexExponentialFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.ComplexExponentialFilter.ComplexExponentialFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Complex exponential filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>phase : float - relative to pi in [ -1.0, 1.0 ].</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.ComplexExponentialFilter.ComplexExponentialFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/ComplexExponentialFilter.html#ComplexExponentialFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.ComplexExponentialFilter.ComplexExponentialFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal frequency relative to Nyquist in [ -1.0, 1.0 ).</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.ComplexExponentialFilter.ComplexExponentialFilter.phase">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">phase</span></span><a class="headerlink" href="#diamondback.filters.ComplexExponentialFilter.ComplexExponentialFilter.phase" title="Permalink to this definition"></a></dt>
<dd><p>float - relative to pi in [ -1.0, 1.0 ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>phase</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.ComplexFrequencyFilter">
<span id="diamondback-filters-complexfrequencyfilter-module"></span><h2>diamondback.filters.ComplexFrequencyFilter module<a class="headerlink" href="#module-diamondback.filters.ComplexFrequencyFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A complex frequency filter adapts and discriminates the phase of a forward
complex coefficient to produce a reference signal, which estimates a normalized
frequency of a primary signal which is normalized to unity magnitude.  A
normalized frequency and rate of adaptation are specified.</p>
<div class="math notranslate nohighlight">
\[f_{n} = \frac{\tan^{-1}(\ b_{n}\ ) }{\pi}\]</div>
<div class="math notranslate nohighlight">
\[x_{n} = \frac{d_{n}}{|\ d_{n}\ |}\]</div>
<div class="math notranslate nohighlight">
\[y_{n} = b_{n} x_{n-1}\]</div>
<div class="math notranslate nohighlight">
\[e_{n} = d_{n} - y_{n}\]</div>
<div class="math notranslate nohighlight">
\[b_{0} = e^{\ j\ \pi\ f_{0}}\]</div>
<div class="math notranslate nohighlight">
\[b_{n} = b_{n} + \mu e_{n} x_{n}^{*}\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">128</span> <span class="p">)</span>

<span class="c1"># Create a primary signal.</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">ComplexFrequencyFilter</span><span class="p">(</span> <span class="n">frequency</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">rate</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="p">)</span>

<span class="c1"># Filter a primary signal.</span>

<span class="n">obj</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span> <span class="n">d</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">d</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-02-01.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.ComplexFrequencyFilter.</span></span><span class="sig-name descname"><span class="pre">ComplexFrequencyFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/ComplexFrequencyFilter.html#ComplexFrequencyFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.FirFilter.FirFilter" title="diamondback.filters.FirFilter.FirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.FirFilter.FirFilter</span></code></a></p>
<p>Complex frequency filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>frequency : float - relative to Nyquist in [ -1.0, 1.0 ).
rate : float - in [ 0.0, 1.0 ].</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/ComplexFrequencyFilter.html#ComplexFrequencyFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters a primary signal and produces a reference signal.</p>
<p>Signals are Hilbert transformed to complex as necessary.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>d : Union[ List, numpy.ndarray ] - primary signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.
e : numpy.ndarray - error signal.
b : numpy.ndarray - forward coefficient.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.frequency">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frequency</span></span><a class="headerlink" href="#diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.frequency" title="Permalink to this definition"></a></dt>
<dd><p>float - relative to Nyquist in [ -1.0, 1.0 ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>frequency</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.rate">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rate</span></span><a class="headerlink" href="#diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.rate" title="Permalink to this definition"></a></dt>
<dd><p>float - in [ 0.0, 1.0 ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>rate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.10)"><span class="pre">complex</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/ComplexFrequencyFilter.html#ComplexFrequencyFilter.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.ComplexFrequencyFilter.ComplexFrequencyFilter.reset" title="Permalink to this definition"></a></dt>
<dd><p>Modifies a state to minimize edge effects by assuming persistent
operation at a specified primary incident condition.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : complex - incident signal.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.DerivativeFilter">
<span id="diamondback-filters-derivativefilter-module"></span><h2>diamondback.filters.DerivativeFilter module<a class="headerlink" href="#module-diamondback.filters.DerivativeFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A derivative filter realizes a discrete difference equation which
approximates a discrete derivative as a function of a forward coefficient
array and a state array of a specified order, consuming an incident signal
and producing a reference signal.  A derivative is approximated relative
to a sample.  A derivative is electively approximated relative to a second
by multiplying a reference signal by an absolute sampling frequency raised
to a derivative power.</p>
<div class="math notranslate nohighlight">
\[y_{n} = \sum_{i = 0}^{N} b_{i} x_{n-i} = \sum_{i = 1}^{N} b_{i} s_{i,n} + b_{0} x_{n}
s_{1,n+1} = x_{n}\qquad\quad s_{i,n+1} = s_{i-1,n}\]</div>
<p>A frequency response is expressed as a function of a forward coefficient
array.</p>
<div class="math notranslate nohighlight">
\[H_{z} = \sum_{i = 0}^{N} b_{i} z^{-i}\]</div>
<p>A forward coefficient array and a state array of a specified order are
defined, to satisfy specified constraints.  A derivative, and order are
specified.</p>
<div class="math notranslate nohighlight">
\[y_{n} = f^{D}\ \frac{x_{n}}{D}\quad\quad\quad\quad\scriptsize{ f = 1.0 }\]</div>
<div class="math notranslate nohighlight">
\[b_{1,1} = \scriptsize{ [ \matrix{ 1 &amp; -1 } ] }\]</div>
<div class="math notranslate nohighlight">
\[b_{1,2} = \scriptsize{ [ \matrix{ 1 &amp; 0 &amp; -1 } ]\ \frac{1}{2} }\]</div>
<div class="math notranslate nohighlight">
\[b_{1,4} = \scriptsize{ [ \matrix{ -1 &amp; 8 &amp; 0 &amp; -8 &amp; 1 } ]\ \frac{1}{12} }\]</div>
<div class="math notranslate nohighlight">
\[b_{2,2} = \scriptsize{ [ \matrix{ 1 &amp; -2 &amp; 1 } ] }\]</div>
<div class="math notranslate nohighlight">
\[b_{2,4} = \scriptsize{ [ \matrix{ 1 &amp; 0 &amp; -2 &amp; 0 &amp; 1 } ]\ \frac{1}{4} }\]</div>
<div class="math notranslate nohighlight">
\[b_{2,6} = \scriptsize{ [ \matrix{ -1 &amp; 8 &amp; 1 &amp; -16 &amp; 1 &amp; 8 &amp; -1 } ]\ \frac{1}{24} }\]</div>
<div class="math notranslate nohighlight">
\[b_{2,8} = \scriptsize{ [ \matrix{ 1 &amp; -16 &amp; 64 &amp; 16 &amp; -130 &amp; 16 &amp; 64 &amp; -16 &amp; 1 } ]\ \frac{1}{144} }\]</div>
<div class="math notranslate nohighlight">
\[b_{3,4} = \scriptsize{ [ \matrix{ 1 &amp; -2 &amp; 0 &amp; 2 &amp; -1 } ]\ \frac{1}{2} }\]</div>
<div class="math notranslate nohighlight">
\[b_{3,6} = \scriptsize{ [ \matrix{ 1 &amp; 0 &amp; -3 &amp; 0 &amp; 3 &amp; 0 &amp; 1 } ]\ \frac{1}{8} }\]</div>
<div class="math notranslate nohighlight">
\[b_{3,8} = \scriptsize{ [ \matrix{ -1 &amp; 8 &amp; 2 &amp; -24 &amp; 0 &amp; 24 &amp; -2 &amp; -8 &amp; 1 } ]\ \frac{1}{48} }\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span><span class="p">,</span> <span class="n">DerivativeFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">DerivativeFilter</span><span class="p">(</span> <span class="n">derivative</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="p">)</span><span class="o">.</span><span class="n">real</span>
<span class="n">obj</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-02-06.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.DerivativeFilter.DerivativeFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.DerivativeFilter.</span></span><span class="sig-name descname"><span class="pre">DerivativeFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">derivative</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/DerivativeFilter.html#DerivativeFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.DerivativeFilter.DerivativeFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.FirFilter.FirFilter" title="diamondback.filters.FirFilter.FirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.FirFilter.FirFilter</span></code></a></p>
<p>Derivative filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>derivative : int - in [ 1, 3 ].
order : int.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.DerivativeFilter.DerivativeFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/DerivativeFilter.html#DerivativeFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.DerivativeFilter.DerivativeFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.FirFilter">
<span id="diamondback-filters-firfilter-module"></span><h2>diamondback.filters.FirFilter module<a class="headerlink" href="#module-diamondback.filters.FirFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A Finite Impulse Response ( FIR ) filter realizes a discrete difference
equation as a function of a forward coefficient array and a state array
of a specified order, consuming an incident signal and producing a
reference signal.</p>
<div class="math notranslate nohighlight">
\[y_{n} = \sum_{i = 0}^{N} b_{i,n} x_{n-i} = \sum_{i = 1}^{N} b_{i,n} s_{i,n} + b_{0,n} x_{n}\]</div>
<div class="math notranslate nohighlight">
\[s_{1,n+1} = x_{n}\qquad\quad s_{i,n+1} = s_{i-1,n}\]</div>
<p>A reset may minimize edge effects at a discontinuity by assuming
persistent operation at a specified incident signal condition.</p>
<div class="math notranslate nohighlight">
\[s_{i,n} = x_{n}\]</div>
<p>A frequency response is expressed as a function of a forward
coefficient array.</p>
<div class="math notranslate nohighlight">
\[H_{z,n} = \sum_{i = 0}^{N} b_{i,n} z^{-i}\]</div>
<p>A forward coefficient array and state array of a specified order are
defined to realize specified constraints.  A style, frequency,
order, count, complement, and gain are electively specified.
Alternatively, a forward coefficient array and state array may be explicitly
defined to ignore constraints.</p>
<p>Frequency corresponds to a -3 dB frequency response normalized relative
to Nyquist.</p>
<p>Style is in ( ‘Blackman’, ‘Hamming’, ‘Hann’, ‘Kaiser’ ).</p>
<ul>
<li><div class="line-block">
<div class="line">‘Blackman’ filters demonstrate low resolution and spectral leakage</div>
<div class="line">with improved rate of attenuation.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Hamming’ filters demonstrate minimal nearest side lobe magnitude</div>
<div class="line">response.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Hann’ filters demonstrate high resolution and spectral leakage.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Kaiser’ filters demonstrate flexible resolution and spectral</div>
<div class="line">leakage dependent upon a beta value of a Bessel function of the</div>
<div class="line">first kind, with beta equal to 7.0.</div>
</div>
</li>
</ul>
<p>Order must even to ensure a Type I form linear phase solution.</p>
<p>Count is a quantity of filters of a specified order concatenated to
form an aggregate frequency response in cascade form.</p>
<p>Complement effectively constructs a mirror image of a specified
frequency response.</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">FirFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance with constraints.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">FirFilter</span><span class="p">(</span> <span class="n">style</span> <span class="o">=</span> <span class="s1">&#39;Kaiser&#39;</span><span class="p">,</span> <span class="n">frequency</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>

<span class="c1"># Create an instance with coefficients.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">FirFilter</span><span class="p">(</span> <span class="n">b</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">b</span> <span class="p">)</span>

<span class="c1"># Estimate frequency response, group delay, and roots.</span>

<span class="n">y</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">response</span><span class="p">(</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>
<span class="n">p</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">-</span> <span class="mf">1.0</span>
<span class="n">obj</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-01-23.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.FirFilter.</span></span><span class="sig-name descname"><span class="pre">FirFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/FirFilter.html#FirFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Finite Impulse Response ( FIR ) filter.</p>
<p>Initialize.</p>
<p>Specify constraints including style, frequency, and order.
Alternatively, a forward coefficient array may be explicitly defined
to ignore constraints.</p>
<p>Labels should be used to avoid ambiguity between constraints and
coefficients.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>style : str - in ( ‘Blackman’, ‘Hamming’, ‘Hann’, ‘Kaiser’ ).
frequency : float - relative to Nyquist in ( 0.0, 1.0 ).
order : int.
count : int.
complement : bool.
gain : float.
b : Union[ List, numpy.ndarray ].
s : Union[ List, numpy.ndarray ].</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter.b">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">b</span></span><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter.b" title="Permalink to this definition"></a></dt>
<dd><p>Union[ List, numpy.ndarray ] - forward coefficient.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>b</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter.delay">
<span class="sig-name descname"><span class="pre">delay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8192</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/FirFilter.html#FirFilter.delay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter.delay" title="Permalink to this definition"></a></dt>
<dd><p>Estimates group delay and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>length : int.
count : int.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.
f : numpy.ndarray - relative to Nyquist in [ -1.0, 1.0 ).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/FirFilter.html#FirFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.10)"><span class="pre">complex</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/FirFilter.html#FirFilter.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter.reset" title="Permalink to this definition"></a></dt>
<dd><p>Modifies a state to minimize edge effects by assuming persistent
operation at a specified incident signal condition.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ complex, float ] - incident signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter.response">
<span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8192</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/FirFilter.html#FirFilter.response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter.response" title="Permalink to this definition"></a></dt>
<dd><p>Estimates frequency response and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>length : int.
count : int.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.
f : numpy.ndarray - relative to Nyquist in [ -1.0, 1.0 ).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter.roots">
<span class="sig-name descname"><span class="pre">roots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/FirFilter.html#FirFilter.roots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter.roots" title="Permalink to this definition"></a></dt>
<dd><p>Estimates roots of a frequency response in poles and zeros.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>count : int.</p>
</dd>
<dt>Returns :</dt><dd><p>p : numpy.ndarray - poles.
z : numpy.ndarray - zeros.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.FirFilter.FirFilter.s">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">s</span></span><a class="headerlink" href="#diamondback.filters.FirFilter.FirFilter.s" title="Permalink to this definition"></a></dt>
<dd><p>Union[ List, numpy.ndarray ] - state.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>s</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.GoertzelFilter">
<span id="diamondback-filters-goertzelfilter-module"></span><h2>diamondback.filters.GoertzelFilter module<a class="headerlink" href="#module-diamondback.filters.GoertzelFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A Goertzel filter realizes a discrete difference equation which
approximates a discrete Fourier transform evaluated at a specified
normalized frequency and order, consuming an incident signal and
producing a reference signal.</p>
<div class="math notranslate nohighlight">
\[y_{n} = \sum_{i = 1}^{N} a_{i} y_{n-i} + \sum_{i = 0}^{N} b_{i} x_{n-i} = \sum_{i = 1}^{N} (\ a_{i} b_{0} + b_{i}\ ) s_{i,n} + b_{0} x_{n}\qquad a_{0} = 0\]</div>
<div class="math notranslate nohighlight">
\[s_{1,n+1} = \sum_{i = 1}^{N} a_{i} s_{i,n} + x_{n}\qquad\quad s_{i,n+1} = s_{i-1,n}\]</div>
<div class="math notranslate nohighlight">
\[\matrix{ a = \scriptsize{ [\ \matrix{ 0 &amp; 2\ \cos(\ \pi\ f\ ) &amp; -1 }\ ] } &amp; b = \scriptsize{ [\ \matrix{ 1 &amp; -e^{\ j\ \pi\ f\ } &amp; 0 } }\ ] }\]</div>
<p>At the terminus of each window length a reference signal is evaluated
to estimate a discrete Fourier transform at a specified normalized
frequency.</p>
<div class="math notranslate nohighlight">
\[H_{z} = \frac{\sum_{i = 0}^{N} b_{i} z^{-i}}{{1 - \sum_{i = 1}^{N} a_{i} z^{-i}}}\]</div>
<p>A Goertzel filter is normalized by incident signal length.  An incident
signal length is is inversely proportional to a normalized frequency
resolution.</p>
<div class="math notranslate nohighlight">
\[N = \frac{2}{R}\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span><span class="p">,</span> <span class="n">GoertzelFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">WindowFilter</span><span class="p">(</span> <span class="s1">&#39;Hann&#39;</span><span class="p">,</span> <span class="mi">128</span> <span class="p">)</span><span class="o">.</span><span class="n">b</span>
<span class="n">frequency</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">GoertzelFilter</span><span class="p">(</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">frequency</span> <span class="o">=</span> <span class="n">frequency</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">1024</span> <span class="p">)</span> <span class="o">*</span> <span class="n">frequency</span> <span class="p">)</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)[</span> <span class="mi">0</span> <span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-04-16.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.GoertzelFilter.GoertzelFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.GoertzelFilter.</span></span><span class="sig-name descname"><span class="pre">GoertzelFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/GoertzelFilter.html#GoertzelFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.GoertzelFilter.GoertzelFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.IirFilter.IirFilter" title="diamondback.filters.IirFilter.IirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.IirFilter.IirFilter</span></code></a></p>
<p>Goertzel filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>b : Union[ List, numpy.ndarray ] - forward coefficient.
frequency : float - relative to Nyquist in [ -1.0, 1.0 ].</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.GoertzelFilter.GoertzelFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/GoertzelFilter.html#GoertzelFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.GoertzelFilter.GoertzelFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.GoertzelFilter.GoertzelFilter.frequency">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frequency</span></span><a class="headerlink" href="#diamondback.filters.GoertzelFilter.GoertzelFilter.frequency" title="Permalink to this definition"></a></dt>
<dd><p>float - relative to Nyquist in [ -1.0, 1.0 ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>frequency</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.IirFilter">
<span id="diamondback-filters-iirfilter-module"></span><h2>diamondback.filters.IirFilter module<a class="headerlink" href="#module-diamondback.filters.IirFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>An Infinite Impulse Response ( IIR ) filter realizes a discrete
difference equation as a function of a recursive coefficient array,
a forward coefficient array, and a state array of a specified order,
consuming an incident signal and producing a reference signal.</p>
<div class="math notranslate nohighlight">
\[y_{n} = \sum_{i = 1}^{N} a_{i,n} y_{n-i} + \sum_{i = 0}^{N} b_{i,n} x_{n-i} = \sum_{i = 1}^{N} (\ a_{i,n} b_{0,n} + b_{i,n}\ ) s_{i,n} + b_{0,n} x_{n}\qquad a_{0,n} = 0\]</div>
<div class="math notranslate nohighlight">
\[s_{1,n+1} = \sum_{i = 1}^{N} a_{i,n} s_{i,n} + x_{n}\qquad\qquad s_{i,n+1} = s_{i-1,n}\]</div>
<p>A reset may minimize edge effects at a discontinuity by assuming
persistent operation at a specified incident signal condition.</p>
<div class="math notranslate nohighlight">
\[s_{i,n} = \frac{1.0 - b_{0,n}}{\sum_{i=1}^{N} a_{i,n} b_{0,n} + b_{i,n}}\ x_{n}\]</div>
<p>A frequency response is expressed as a function of a recursive
coefficient array and a forward coefficient array.</p>
<div class="math notranslate nohighlight">
\[H_{z,n} = \frac{\sum_{i = 0}^{N} b_{i,n} z^{-i}}{{1 - \sum_{i = 1}^{N} a_{i,n} z^{-i}}}\]</div>
<p>A recursive coefficient array, forward coefficient array,
and state array of a specified order are defined to realize specified
constraints.  A style, frequency, order, count, complement,
and gain are electively specified.  Alternatively, a recursive coefficient
array, forward coefficient array, and state array may be explicitly
defined to ignore constraints.</p>
<p>Frequency corresponds to a -3 dB frequency response normalized relative
to Nyquist.</p>
<p>Style is in ( ‘Bessel’, ‘Butterworth’, ‘Chebyshev’ ).</p>
<ul>
<li><div class="line-block">
<div class="line">‘Bessel’ filters demonstrate maximally linear phase response or</div>
<div class="line">constant group delay.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Butterworth’ filters demonstrate maximally flat magnitude response.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Chebyshev’ filters demonstrate minimally low magnitude response error</div>
<div class="line">and improved rate of attenuation in a Type I form, with a maximum in</div>
<div class="line">band ripple of 0.125 dB.</div>
</div>
</li>
</ul>
<p>Count is a quantity of filters of a specified order concatenated to
form an aggregate frequency response in cascade form.</p>
<p>Complement effectively constructs a mirror image of a specified
frequency response.</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">IirFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance with constraints.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">IirFilter</span><span class="p">(</span> <span class="n">style</span> <span class="o">=</span> <span class="s1">&#39;Chebyshev&#39;</span><span class="p">,</span> <span class="n">frequency</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>

<span class="c1"># Create an instance with coefficients.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">IirFilter</span><span class="p">(</span> <span class="n">a</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">b</span> <span class="p">)</span>

<span class="c1"># Estimate frequency response, group delay, and roots.</span>

<span class="n">y</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">response</span><span class="p">(</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>
<span class="n">p</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">-</span> <span class="mf">1.0</span>
<span class="n">obj</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-01-23.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.IirFilter.</span></span><span class="sig-name descname"><span class="pre">IirFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/IirFilter.html#IirFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.FirFilter.FirFilter" title="diamondback.filters.FirFilter.FirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.FirFilter.FirFilter</span></code></a></p>
<p>Infinite Impulse Response ( IIR ) filter.</p>
<p>Initialize.</p>
<p>Specify constraints including style, frequency, and order.
Alternatively, a recursive coefficient array and forward coefficient array
may be explicitly defined to ignore constraints.</p>
<p>Labels should be used to avoid ambiguity between constraints and
coefficients.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>style : str - in ( ‘Bessel’, ‘Butterworth’, ‘Chebyshev’ ).
frequency : float - relative to Nyquist in ( 0.0, 1.0 ).
order : int.
count : int.
complement : bool.
gain : float.
a : Union[ List, numpy.ndarray ] - recursive coefficient, s-domain.
b : Union[ List, numpy.ndarray ] - forward coefficient.
s : Union[ List, numpy.ndarray ] - state.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter._evaluate">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/IirFilter.html#IirFilter._evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter._evaluate" title="Permalink to this definition"></a></dt>
<dd><p>Evaluates coefficients.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>style : str - in ( ‘Bessel’, ‘Butterworth’, ‘Chebyshev’ ).
frequency : float - relative to Nyquist in ( 0.0, 1.0 ).
order : int.</p>
</dd>
<dt>Returns :</dt><dd><p>a : numpy.ndarray - recursive coefficient.
b : numpy.ndarray - forward coefficient.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter.a">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">a</span></span><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter.a" title="Permalink to this definition"></a></dt>
<dd><p>Union[ List, numpy.ndarray ] - recursive coefficient.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>a</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter.delay">
<span class="sig-name descname"><span class="pre">delay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8192</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/IirFilter.html#IirFilter.delay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter.delay" title="Permalink to this definition"></a></dt>
<dd><p>Estimates group delay and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>length : int.
count : int.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.
f : numpy.ndarray - relative to Nyquist in [ -1.0, 1.0 ).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/IirFilter.html#IirFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.10)"><span class="pre">complex</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/IirFilter.html#IirFilter.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter.reset" title="Permalink to this definition"></a></dt>
<dd><p>Modifies a state to minimize edge effects by assuming persistent
operation at a specified incident signal condition.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ complex, float ] - incident signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter.response">
<span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8192</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/IirFilter.html#IirFilter.response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter.response" title="Permalink to this definition"></a></dt>
<dd><p>Estimates frequency response and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>length : int.
count : int.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.
f : numpy.ndarray - relative to Nyquist in [ -1.0, 1.0 ).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.IirFilter.IirFilter.roots">
<span class="sig-name descname"><span class="pre">roots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/diamondback/filters/IirFilter.html#IirFilter.roots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IirFilter.IirFilter.roots" title="Permalink to this definition"></a></dt>
<dd><p>Estimates roots of a frequency response in poles and zeros.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>count : int.</p>
</dd>
<dt>Returns :</dt><dd><p>p : numpy.ndarray - poles.
z : numpy.ndarray - zeros.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.IntegralFilter">
<span id="diamondback-filters-integralfilter-module"></span><h2>diamondback.filters.IntegralFilter module<a class="headerlink" href="#module-diamondback.filters.IntegralFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>An integral filter realizes a discrete difference equation which
approximates a discrete integral as a function of a recursive coefficient
array, a forward coefficient array, and a state array of a specified order,
consuming an incident signal and producing a reference signal.  An integral
is approximated relative to a sample.  An integral is electively approximated
relative to a second by dividing a reference signal by an absolute sampling
frequency.</p>
<div class="math notranslate nohighlight">
\[y_{n} = \sum_{i = 1}^{N} a_{i} y_{n-i} + \sum_{i = 0}^{N} b_{i} x_{n-i} = \sum_{i = 1}^{N} (\ a_{i} b_{0} + b_{i}\ ) s_{i,n} + b_{0} x_{n}\qquad a_{0} = 0\]</div>
<div class="math notranslate nohighlight">
\[s_{1,n+1} = \sum_{i = 1}^{N} a_{i} s_{i,n} + x_{n}\qquad\quad s_{i,n+1} = s_{i-1,n}\]</div>
<p>A frequency response is expressed as a function of a recursive coefficient
array and a forward coefficient array.</p>
<div class="math notranslate nohighlight">
\[H_{z} = \frac{\sum_{i = 0}^{N} b_{i} z^{-i}}{{1 - \sum_{i = 1}^{N} a_{i} z^{-i}}}\]</div>
<p>A recursive coefficient array, forward coefficient array, and state array
of a specified order are defined to satisfy specified constraints.  An
instance and order are specified.</p>
<div class="math notranslate nohighlight">
\[y_{n} = \frac{1}{f}\ \sum_{i=0}^{N} x_{n}\quad\quad\quad\quad\scriptsize{ f = 1.0 }\]</div>
<div class="math notranslate nohighlight">
\[\matrix{ a_{1,0} = \scriptsize{ [ \matrix{ 0 &amp; 1 } ] } &amp; b_{1,0} = \scriptsize{ [ \matrix{ 1 } ] } }\quad\quad\scriptsize{ Rectangular }\]</div>
<div class="math notranslate nohighlight">
\[\matrix{ a_{1,1} = \scriptsize{ [ \matrix{ 0 &amp; 1 } ] } &amp; b_{1,1} = \scriptsize{ [ \matrix{ 1 &amp; 1 } ]\ \frac{1}{2} } }\quad\quad\scriptsize{ Trapezoidal }\]</div>
<div class="math notranslate nohighlight">
\[\matrix{ a_{1,2} = \scriptsize{ [ \matrix{ 0 &amp; 1 } ] } &amp; b_{1,2} = \scriptsize{ [ \matrix{ 1 &amp; 4 &amp; 1 } ]\ \frac{1}{6} } }\quad\quad\scriptsize{ Simpson\ 2 }\]</div>
<div class="math notranslate nohighlight">
\[\matrix{ a_{1,3} = \scriptsize{ [ \matrix{ 0 &amp; 1 } ] } &amp; b_{1,3} = \scriptsize{ [ \matrix{ 1 &amp; 3 &amp; 3 &amp; 1 } ]\ \frac{1}{8} } }\quad\quad\scriptsize{ Simpson\ 3 }\]</div>
<div class="math notranslate nohighlight">
\[\matrix{ a_{1,4} = \scriptsize{ [ \matrix{ 0 &amp; 1 } ] } &amp; b_{1,4} = \scriptsize{ [ \matrix{ 7 &amp; 32 &amp; 12 &amp; 32 &amp; 7 } ]\ \frac{1}{90} } }\quad\quad\scriptsize{ Newton\ Coats }\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span><span class="p">,</span> <span class="n">IntegralFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">IntegralFilter</span><span class="p">(</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="p">)</span><span class="o">.</span><span class="n">real</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-02-06.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.IntegralFilter.IntegralFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.IntegralFilter.</span></span><span class="sig-name descname"><span class="pre">IntegralFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/IntegralFilter.html#IntegralFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IntegralFilter.IntegralFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.IirFilter.IirFilter" title="diamondback.filters.IirFilter.IirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.IirFilter.IirFilter</span></code></a></p>
<p>Integral filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>order : int.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.IntegralFilter.IntegralFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/IntegralFilter.html#IntegralFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.IntegralFilter.IntegralFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.PidFilter">
<span id="diamondback-filters-pidfilter-module"></span><h2>diamondback.filters.PidFilter module<a class="headerlink" href="#module-diamondback.filters.PidFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A Proportional Integral Derivative ( PID ) filter realizes a discrete
difference equation as a function of a forward coefficient array and a
state array of a static order.  A forward coefficient array applies a
gain to proportional, integral, and derivative representations of an
incident signal, producing a reference signal.  An integral limit is
specified, preventing integral saturation which may adversely affect
control stability and latency.</p>
<div class="math notranslate nohighlight">
\[y_{n} = b_{0}\ x_{n} + b_{1}\max(\ min( \sum_{0}^{n}\ x_{n},\ limit\ ),\ -limit\ ) + b_{2}\ \frac{d}{dn}(\ x_{n}\ )\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span><span class="p">,</span> <span class="n">PidFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">PidFilter</span><span class="p">(</span> <span class="n">b</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">5.0e-2</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="o">-</span><span class="mf">1.0e-4</span><span class="p">,</span> <span class="mf">1.0e-4</span><span class="p">,</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="p">)</span><span class="o">.</span><span class="n">real</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-01-31.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.PidFilter.PidFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.PidFilter.</span></span><span class="sig-name descname"><span class="pre">PidFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/PidFilter.html#PidFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.PidFilter.PidFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.FirFilter.FirFilter" title="diamondback.filters.FirFilter.FirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.FirFilter.FirFilter</span></code></a></p>
<p>Proportional Integral Derivative ( PID ) filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>b : Union[ List, numpy.ndarray ] - forward coefficient.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.PidFilter.PidFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/PidFilter.html#PidFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.PidFilter.PidFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.PidFilter.PidFilter.limit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">limit</span></span><a class="headerlink" href="#diamondback.filters.PidFilter.PidFilter.limit" title="Permalink to this definition"></a></dt>
<dd><p>float.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>limit</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.PolynomialRateFilter">
<span id="diamondback-filters-polynomialratefilter-module"></span><h2>diamondback.filters.PolynomialRateFilter module<a class="headerlink" href="#module-diamondback.filters.PolynomialRateFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A polynomial rate filter produces a reference signal which approximates
an incident signal evaluated at an effective frequency equal to the
product of an incident sample frequency and a specified rate.</p>
<p>A polynomial rate filter synthesizes a sequence of polynomials which
form local approximations to an incident signal, and are evaluated at
indices corresponding to a specified rate to produce a reference
signal, effectively modifying the sampling rate by a specified rate
ratio.</p>
<p>A specified rate must be greater than zero, supporting decimation and
interpolation.</p>
<p>Latency compensation is not necessary, as no group delay is introduced.</p>
<p>Edge effects are internally mitigated by linear extension of an
incident signal.</p>
<p>A polynomial rate filter may be the most appropriate option in
applications which require fractional decimation and interpolation and
benefit from minimization of edge effects due to discontinuous
operation or dynamic rate.</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span><span class="p">,</span> <span class="n">PolynomialRateFilter</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">PolynomialRateFilter</span><span class="p">(</span> <span class="n">rate</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="p">)</span><span class="o">.</span><span class="n">real</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-03-19.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.PolynomialRateFilter.PolynomialRateFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.PolynomialRateFilter.</span></span><span class="sig-name descname"><span class="pre">PolynomialRateFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/PolynomialRateFilter.html#PolynomialRateFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.PolynomialRateFilter.PolynomialRateFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Polynomial rate filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>rate : float - ratio of effective frequency in [ 0.0, inf ).
order : int - in [ 2 , inf ).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.PolynomialRateFilter.PolynomialRateFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/PolynomialRateFilter.html#PolynomialRateFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.PolynomialRateFilter.PolynomialRateFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.PolynomialRateFilter.PolynomialRateFilter.order">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">order</span></span><a class="headerlink" href="#diamondback.filters.PolynomialRateFilter.PolynomialRateFilter.order" title="Permalink to this definition"></a></dt>
<dd><p>int - in [ 2, inf ).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>order</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.PolynomialRateFilter.PolynomialRateFilter.rate">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rate</span></span><a class="headerlink" href="#diamondback.filters.PolynomialRateFilter.PolynomialRateFilter.rate" title="Permalink to this definition"></a></dt>
<dd><p>float - in [ 0.0, inf ).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>rate</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.PolyphaseRateFilter">
<span id="diamondback-filters-polyphaseratefilter-module"></span><h2>diamondback.filters.PolyphaseRateFilter module<a class="headerlink" href="#module-diamondback.filters.PolyphaseRateFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A polyphase rate filter produces a reference signal which approximates
an incident signal evaluated at an effective frequency equal to the
product of an incident sample frequency and a specified rate.</p>
<p>A polyphase rate filter synthesizes a polyphase filter bank with
comprised of a sequence of low pass filters.  Each low pass filter in a
filter bank realizes a common frequency response, with a fractional
sample difference in group delay.  A stride is defined to be dependent
upon a specified rate ratio and count.  An incident signal is filtered
to reduce aliasing and decimated or interpolated to produce a reference
signal, effectively modifying the sampling rate by a specified rate
ratio.</p>
<div class="math notranslate nohighlight">
\[b_{k,i} = b^{M}[\ k (\ N\ +\ 1\ )\ +\ i\ ] \qquad\qquad k\ :\ [\ 0,\ K\sim 256\ )\qquad\ i\ :\ [\ 0,\ N\sim 15 \ ]\]</div>
<div class="math notranslate nohighlight">
\[y_{n} = \sum_{i = 0}^{N} b_{k_{n},i}\ x_{n-i} = \sum_{i = 1}^{N} b_{k_{n},i}\ s_{i,n} + b_{k_{n},0}\ x_{n}\]</div>
<div class="math notranslate nohighlight">
\[s_{1,n+1} = x_{n}\quad\quad s_{i,n+1} = s_{i-1,n}\]</div>
<p>A specified rate must be greater than zero, and less than or equal to
the quantity of filters comprising a polyphase filter bank, supporting
decimation and interpolation.</p>
<p>Phase dither is present for a real rate, though error is accumulated to
ensure that the specified rate is realized without bias.  Group delay
may be addressed by latency compensation.</p>
<div class="math notranslate nohighlight">
\[\phi_{n+1,Rate} = \phi_{n,Rate}\ +\ \frac{K}{\scriptsize{Rate}}\]</div>
<div class="math notranslate nohighlight">
\[\phi_{n+1,Rate}\ \geq\ K\qquad\longrightarrow\qquad \phi_{n+1,Rate} = \phi_{n+1,Rate}\ -\ K\]</div>
<div class="math notranslate nohighlight">
\[k_{n+1} = \mod(\ \lfloor{\ k_{n}\ +\ \phi_{n+1,Rate}}\rfloor,\ M\ )\]</div>
<p>A reset may minimize edge effects at a discontinuity by assuming
persistent operation at a specified incident signal condition.  Edge
extension may also be applied to an incident signal.</p>
<p>A polyphase rate filter may be the most appropriate option in
applications which require fractional decimation and interpolation and
are not highly sensitive to minimization of edge effects or have
continuous operation.</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span><span class="p">,</span> <span class="n">PolyphaseRateFilter</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">PolyphaseRateFilter</span><span class="p">(</span> <span class="n">rate</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">128</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="p">)</span><span class="o">.</span><span class="n">real</span>
<span class="n">obj</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-03-19.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.PolyphaseRateFilter.</span></span><span class="sig-name descname"><span class="pre">PolyphaseRateFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/PolyphaseRateFilter.html#PolyphaseRateFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Polyphase rate filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>rate : float - ratio of effective frequency in ( 0.0, b.shape[ 0 ] ].</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.b">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">b</span></span><a class="headerlink" href="#diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.b" title="Permalink to this definition"></a></dt>
<dd><p>numpy.ndarray - forward coefficient.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>b</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/PolyphaseRateFilter.html#PolyphaseRateFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.rate">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rate</span></span><a class="headerlink" href="#diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.rate" title="Permalink to this definition"></a></dt>
<dd><p>float - in [ 0.0, b.shape[ 0 ] ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>rate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/PolyphaseRateFilter.html#PolyphaseRateFilter.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.reset" title="Permalink to this definition"></a></dt>
<dd><p>Modifies a state to minimize edge effects by assuming persistent
operation at a specified incident signal condition.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : float - incident signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.s">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">s</span></span><a class="headerlink" href="#diamondback.filters.PolyphaseRateFilter.PolyphaseRateFilter.s" title="Permalink to this definition"></a></dt>
<dd><p>Union[ List, numpy.ndarray ] - state.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>s</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.RankFilter">
<span id="diamondback-filters-rankfilter-module"></span><h2>diamondback.filters.RankFilter module<a class="headerlink" href="#module-diamondback.filters.RankFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A rank filter realizes a nonlinear morphological operator consuming an
incident signal, sorting, indexing, and selecting over a sliding window
of a specified order, and producing a reference signal.</p>
<p>Simple morphological operations include dilation, which defines a rank
index equal to zero, erosion, which defines a rank index equal to order,
and median, which defines a rank index equal to order divided by two
for even order.  Compound morphological operations include close,
consisting of sequential dilation and erosion, and open, consisting of
sequential erosion and dilation.  An order and rank are specified.</p>
<div class="math notranslate nohighlight">
\[y_{n} = sort(\ x_{n-N+1\ :\ n}\ )[\ i\ ]\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">RankFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">RankFilter</span><span class="p">(</span> <span class="n">rank</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">4</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span> <span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">1</span> <span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span> <span class="mi">10</span> <span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">4</span> <span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span> <span class="mi">2</span> <span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="mi">5</span> <span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span> <span class="mi">6</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
<span class="n">obj</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-01-31.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.RankFilter.RankFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.RankFilter.</span></span><span class="sig-name descname"><span class="pre">RankFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/RankFilter.html#RankFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.RankFilter.RankFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#diamondback.filters.FirFilter.FirFilter" title="diamondback.filters.FirFilter.FirFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">diamondback.filters.FirFilter.FirFilter</span></code></a></p>
<p>Rank filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>index : int - in [ 0, order ].
order : int.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.RankFilter.RankFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/RankFilter.html#RankFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.RankFilter.RankFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.RankFilter.RankFilter.index">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">index</span></span><a class="headerlink" href="#diamondback.filters.RankFilter.RankFilter.index" title="Permalink to this definition"></a></dt>
<dd><p>int - in [ 0, order ].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>index</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters.WindowFilter">
<span id="diamondback-filters-windowfilter-module"></span><h2>diamondback.filters.WindowFilter module<a class="headerlink" href="#module-diamondback.filters.WindowFilter" title="Permalink to this headline"></a></h2>
<dl>
<dt><strong>Description</strong></dt><dd><p>A window filter realizes a discrete difference equation as a function
of a forward coefficient array of a specified order, consuming an
incident signal and producing a reference signal.</p>
<div class="math notranslate nohighlight">
\[y_{n} = b_{n}\ x_{n}\]</div>
<p>A forward coefficient array of a specified order is defined.  A
style, order, and normalization are specified.</p>
<p>Style is in ( ‘Blackman’, ‘Hamming’, ‘Hann’, ‘Kaiser’ ).</p>
<ul>
<li><div class="line-block">
<div class="line">‘Blackman’ filters demonstrate low resolution and spectral leakage</div>
<div class="line">with improved rate of attenuation.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Hamming’ filters demonstrate minimal nearest side lobe magnitude</div>
<div class="line">response.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Hann’ filters demonstrate high resolution and spectral leakage.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">‘Kaiser’ filters demonstrate flexible resolution and spectral</div>
<div class="line">leakage dependent upon a beta value of a Bessel function of the</div>
<div class="line">first kind, with beta equal to 7.0.</div>
</div>
</li>
</ul>
<p>Normal condition scales a forward coefficient array to electively
compensate for energy loss.</p>
<div class="math notranslate nohighlight">
\[b_{n} = b_{n}\ \frac{ N }{ \sum_{0}^{N-1}\ |\ b_{n}\ |}\]</div>
</dd>
</dl>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diamondback</span> <span class="kn">import</span> <span class="n">ComplexExponentialFilter</span><span class="p">,</span> <span class="n">WindowFilter</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Create an instance.</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">WindowFilter</span><span class="p">(</span> <span class="n">style</span> <span class="o">=</span> <span class="s1">&#39;Hann&#39;</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="n">normal</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>

<span class="c1"># Filter an incident signal.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ComplexExponentialFilter</span><span class="p">(</span> <span class="mf">0.0</span> <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span> <span class="n">obj</span><span class="o">.</span><span class="n">b</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="p">)</span><span class="o">.</span><span class="n">real</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-04-13.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="diamondback.filters.WindowFilter.WindowFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">diamondback.filters.WindowFilter.</span></span><span class="sig-name descname"><span class="pre">WindowFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/diamondback/filters/WindowFilter.html#WindowFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.WindowFilter.WindowFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Window filter.</p>
<p>Initialize.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>style : str - in ( ‘Blackman’, ‘Hamming’, ‘Hann’, ‘Kaiser’ ).
order : int.
normal : bool.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="diamondback.filters.WindowFilter.WindowFilter.b">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">b</span></span><a class="headerlink" href="#diamondback.filters.WindowFilter.WindowFilter.b" title="Permalink to this definition"></a></dt>
<dd><p>Union[ List, numpy.ndarray ] - forward coefficient.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>b</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="diamondback.filters.WindowFilter.WindowFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="_modules/diamondback/filters/WindowFilter.html#WindowFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#diamondback.filters.WindowFilter.WindowFilter.filter" title="Permalink to this definition"></a></dt>
<dd><p>Filters an incident signal and produces a reference signal.</p>
<dl class="simple">
<dt>Arguments :</dt><dd><p>x : Union[ List, numpy.ndarray ] - incident signal.</p>
</dd>
<dt>Returns :</dt><dd><p>y : numpy.ndarray - reference signal.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-diamondback.filters">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-diamondback.filters" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>Initialize.</p>
</dd>
<dt><strong>License</strong></dt><dd><p><a class="reference external" href="https://github.com/larryturner/diamondback/blob/master/license">BSD-3C.</a>
© 2018 - 2022 Larry Turner, Schneider Electric Industries SAS. All rights reserved.</p>
</dd>
<dt><strong>Author</strong></dt><dd><p>Larry Turner, Schneider Electric, AI Hub, 2018-03-22.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright © 2019 - 2022 Schneider Electric Industries SAS. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>